<!DOCTYPE html>
<!--suppress HtmlRequiredTitleElement -->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: common-head}"></head>
<body>
    <div th:replace="~{fragments/navigation :: navbar(${activeTab})}"></div>

    <div class="container my-4">
        <section class="hero-section">
            <h1>üõ†Ô∏è Kotlin Best Practices</h1>
            <p>Learn modern Kotlin development patterns, coroutines, and how to structure AI-powered applications</p>
            <a href="/" class="btn">‚Üê Back to Home</a>
        </section>

        <section class="demo-section">
            <h2>Interactive Demo</h2>
            
            <div class="demo-controls">
                <button class="btn demo-btn" data-demo="coroutines">Async Processing Demo</button>
                <button class="btn demo-btn" data-demo="error-handling">Error Handling Patterns</button>
            </div>
            
            <div class="demo-output" id="coroutines-output">
                <p>Click "Async Processing Demo" to see coroutines in action...</p>
            </div>
            
            <div class="demo-output" id="error-handling-output">
                <p>Click "Error Handling Patterns" to see robust error handling...</p>
            </div>
        </section>

        <section class="code-section">
            <h2>Code Example</h2>
            <div class="code-block">
                <pre><code>// Coroutines & Error Handling Implementation
class AIService {
    private val semaphore = Semaphore(5) // Limit concurrent requests
    
    suspend fun processParallel(inputs: List&lt;String&gt;) = coroutineScope {
        inputs.map { input ->
            async {
                semaphore.withPermit {
                    retryWithBackoff(maxRetries = 3) {
                        openAI.createEmbedding(input)
                    }
                }
            }
        }.awaitAll()
    }
    
    suspend fun &lt;T&gt; retryWithBackoff(
        maxRetries: Int,
        initialDelay: Long = 1000,
        action: suspend () -> T
    ): T {
        repeat(maxRetries) { attempt ->
            try {
                return withTimeout(30.seconds) { action() }
            } catch (e: Exception) {
                if (attempt == maxRetries - 1) throw e
                delay(initialDelay * (attempt + 1))
            }
        }
        error("Max retries exceeded")
    }
}</code></pre>
            </div>
        </section>
    </div>

    <div th:replace="~{fragments/footer :: common-footer}"></div>

    <div th:replace="~{fragments/scripts :: common-scripts}"></div>
</body>
</html>